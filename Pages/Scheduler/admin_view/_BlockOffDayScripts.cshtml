@* Block Off Day Modal Scripts - New Design *@
<script>
(function() {
    'use strict';
    
    // Delete a block day item (new design)
    window.deleteBlockDayItemNew = function(button) {
        const item = button.closest('.block-off-day-item-new');
        if (item) {
            const container = document.getElementById('blockOffDayContainer');
            const items = container.querySelectorAll('.block-off-day-item-new');
            
            // Keep at least one item
            if (items.length > 1) {
                item.remove();
            } else {
                // Clear inputs instead of removing
                const labelInput = item.querySelector('.block-off-input');
                const dateInputs = item.querySelectorAll('.block-off-date-input');
                if (labelInput) labelInput.value = '';
                dateInputs.forEach(input => {
                    input.value = '';
                    input.type = 'text';
                });
            }
        }
    };

    // Add a new block off day item (new design)
    window.addBlockOffDayItemNew = function() {
        const container = document.getElementById('blockOffDayContainer');
        if (!container) return;
        
        const newItem = document.createElement('div');
        newItem.className = 'block-off-day-item-new';
        newItem.innerHTML = `
            <div class="block-off-label-row">
                <label class="block-off-label">Label</label>
                <button type="button" class="btn-delete-block-item" onclick="deleteBlockDayItemNew(this)">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.5 5H4.16667H17.5" stroke="#ff5400" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6.66667 5V3.33333C6.66667 2.89131 6.84226 2.46738 7.15482 2.15482C7.46738 1.84226 7.89131 1.66667 8.33333 1.66667H11.6667C12.1087 1.66667 12.5326 1.84226 12.8452 2.15482C13.1577 2.46738 13.3333 2.89131 13.3333 3.33333V5M15.8333 5V16.6667C15.8333 17.1087 15.6577 17.5326 15.3452 17.8452C15.0326 18.1577 14.6087 18.3333 14.1667 18.3333H5.83333C5.39131 18.3333 4.96738 18.1577 4.65482 17.8452C4.34226 17.5326 4.16667 17.1087 4.16667 16.6667V5H15.8333Z" stroke="#ff5400" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8.33333 9.16667V14.1667" stroke="#ff5400" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M11.6667 9.16667V14.1667" stroke="#ff5400" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            <input type="text" class="form-control block-off-input" placeholder="Example: Vacation, Holiday" />

            <div class="block-off-date-row">
                <div class="block-off-date-group">
                    <label class="block-off-date-label">From</label>
                    <input type="date" class="form-control block-off-date-input" />
                </div>
                <div class="block-off-date-group">
                    <label class="block-off-date-label">To</label>
                    <input type="date" class="form-control block-off-date-input" />
                </div>
            </div>
        `;
        
        container.appendChild(newItem);
    };
})();
</script>
